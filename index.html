<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Member</title>

    <!--  Only scripts from this website, inline script needed for operation -->
    <!--  Call Memberjs for content -->
    <!--  Allow BitBox for UTXOs, Sending Transactions -->
    <!--  IMG SRC for inline images, rating star image -->
    <!--  Openstreetmap for map tiles -->

    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline'; connect-src https://memberjs.org https://rest.bitcoin.com/v2/; img-src 'self' data: https://tile.openstreetmap.org/;">
    
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--  Leaflet (Map) -->
    <link rel="stylesheet" href="js/leaflet/leaflet.css" />
    <script src="js/leaflet/leaflet.js"></script>

    <link id="pagestyle" rel="stylesheet" href="css/functional.css">
</head>

<body>
    <!--  Extenal Libraries -->
    <script src="js/lib/buffer.js"></script>
    <script src="js/lib/anchorme.min.js"></script>
    <script src='js/lib/bitcoincash-0.1.10.min.js'></script>
    <!--  Probably possible to remove this dependency and call functions from BitBox -->
    <script src="js/lib/bitboxsdk.js"></script>
    <script src='js/lib/rater/rating.js'></script>
    <script src='js/lib/geohash.js'></script>
    <!-- https://github.com/davidshimjs/qrcodejs -->
    <script src="js/lib/qrcode.min.js"></script>

    <!--  Member Code. In separate files for development convenience -->
    <!--  Can be mininfied and amalgamated for releases -->

    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/posts.js"></script>
    <script src="js/settings.js"></script>
    <script src="js/follows.js"></script>
    <script src="js/navigation.js"></script>
    <script src="js/transactions.js"></script>
    <script src="js/memberbox.js"></script>
    <script src='js/map.js'></script>
    <script src='js/trustgraph.js'></script>
    <script src='js/bootstrapratings.js'></script>
    <script src="js/login.js"></script>
    <script src="js/notifications.js"></script>
    <script src="js/htmlquarantine.js"></script>


    <div id="map" style="width:100%; height:100%;display:none;"></div>

    <!--[if lte IE 9]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
        <![endif]-->
    <center>
        <table id="hnmain" width="85%" cellspacing="0" cellpadding="0" border="0" bgcolor="#f6f6ef">
            <tbody>
                <tr>
                    <td bgcolor="#4cca47">
                        <table style="padding:2px" width="100%" cellspacing="0" cellpadding="0" border="0">
                            <tbody>
                                <tr>
                                    <td style="width:20px;padding-right:4px">
                                        <a href="https://memberapp.github.io">
                                            <img src="img/bch.png" width="31" height="18">
                                        </a>
                                    </td>
                                    <td style="line-height:12pt; height:10px;" class="pagetop">
                                        <b class="hnname">
                                            <a href="https://memberapp.github.io">Member</a>
                                            <span id='topicdiv'></span>
                                        </b>
                                        <span id="loggedin" style="display: none;" class="pagetop">
                                            <a id="newbutton" class="btn" href="#new" onclick="showNewPost();">new
                                                post</a> |
                                            <a id="postsbutton" class="btn" href="#posts?type=feed&amp;start=0&amp;limit=25"
                                                onclick="showPosts(0,25,'feed');">posts</a><a id="postsbuttonall" class="btn"
                                                href="#posts?type=all&amp;start=0&amp;limit=25"
                                                onclick="showPosts(0,25,'all');">(all</a><a id="postsbuttonnew" class="btn"
                                                href="#posts?type=new&amp;start=0&amp;limit=25"
                                                onclick="showPosts(0,25,'new');">|new)</a> |   
                                            <a id="commentsbutton" class="btn"
                                                href="#comments?type=feed&amp;start=0&amp;limit=25"
                                                onclick="showComments(0,25,'feed');">comments</a><a id="commentsbuttonall" class="btn"
                                                href="#comments?type=all&amp;start=0&amp;limit=25"
                                                onclick="showComments(0,25,'all');">(all</a><a id="commentsbuttonnew" class="btn"
                                                href="#comments?type=new&amp;start=0&amp;limit=25"
                                                onclick="showComments(0,25,'new');">|new)</a> |    
                                            <a id="mapbutton" class="btn" href="#map" onclick="showMap();">üåç</a>
                                            <a id="settingsbutton" class="btn" href="#settings"
                                                onclick="showSettings();">‚öôÔ∏è</a>
                                            <a id="notificationsbutton" class="btn"
                                                href="#notifications?start=0&amp;limit=25"
                                                onclick="showNotifications(0,25,'notifications');">üîî</a> |
                                            <a id="logoutbutton" class="btn" href="#logout"
                                                onclick="logout();">logout</a>
                                        </span>
                                    </td>
                                    <td style="text-align:right;padding-right:4px;">
                                        <span id="loggedout" class="pagetop">
                                            <a id="mapbutton" class="btn" href="#map" onclick="showMap();">üåç</a> |
                                            <a id="postsbutton" class="btn"
                                                href="#posts?type=top&amp;start=0&amp;limit=25"
                                                onclick="showPosts(0,25,'all');">posts</a> |
                                            <a id="commentsbutton" class="btn"
                                                href="#comments?type=all&amp;start=0&amp;limit=25"
                                                onclick="showComments(0,25,'all');">comments</a> |
                                            <a id="loginbutton" class="btn" href="#login"
                                                onclick="showLogin();">login</a>
                                        </span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </td>
                </tr>
                <tr style="height:10px"></tr>
                <tr>
                    <td>
                        <div id="newpost" style="display: none;">
                            <h2>New Post</h2>
                            <table class="table left">
                                <tbody>
                                    <tr id="memorandumtopicarea">
                                        <td>
                                            topic <span id="memorandumtopiclengthadvice">(0/214)</span><br />
                                            <input size="80" id="memorandumtopic" maxlength="217"
                                                onchange="topictitleChanged('memorandum');"
                                                onkeypress="this.onchange();" onpaste="this.onchange();"
                                                oninput="this.onchange();"></input>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            title <span id="memorandumtitlelengthadvice">(0/217)</span><br />
                                            <input size="80" id="memorandumtitle" maxlength="217"
                                                onchange="topictitleChanged('memorandum');"
                                                onkeypress="this.onchange();" onpaste="this.onchange();"
                                                oninput="this.onchange();"></input>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            text</br>
                                            <textarea id="newposttamemorandum" name="text" rows="20"
                                                cols="80"></textarea>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <input id="newpostmemorandumbutton" value="Post a Memorandum" type="submit"
                                                onclick="postmemorandum();">
                                            <input id="newpostmemorandumstatus" style="display: none;"
                                                value="Sending . . ." type="submit" disabled>
                                            <div id="newpostmemorandumcompleted"></div>
                                        </td>
                                    </tr>
                                    <tr style="height:20px"></tr>
                                </tbody>
                            </table>
                            <hr />
                            or
                            <hr />
                            <table class="table left">
                                <tbody>
                                    <tr>
                                        <td id="memotopicarea">
                                            topic <span id="memotopiclengthadvice">(0/217)</span><br />
                                            <input size="60" id="memotopic" maxlength="217"
                                                onchange="topictitleChanged('memo');" onkeypress="this.onchange();"
                                                onpaste="this.onchange();" oninput="this.onchange();"></input>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            text <span id="memotitlelengthadvice">(0/217)</span><br />
                                            <textarea id="memotitle" maxlength="217" name="text" rows="4" cols="60"
                                                onchange="topictitleChanged('memo');" onkeypress="this.onchange();"
                                                onpaste="this.onchange();" oninput="this.onchange();"></textarea>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <input id="newpostbutton" value="Post a Memo" type="submit"
                                                onclick="post();">
                                            <input id="newpoststatus" style="display: none;" value="Sending . . ."
                                                type="submit" disabled>
                                            <div id="newpostcompleted"></div>
                                        </td>
                                    </tr>
                                    <tr style="height:20px"></tr>
                                </tbody>
                            </table>
                        </div>
                        <div id="loading" style="display: none;"><br /><br />
                            <center><img src="img/loading.gif" /></center>
                        </div>
                        <div id="topic" style="display: none;"></div>
                        <div id="feed" style="display: none;"></div>
                        <div id="notifications" style="display: none;"></div>
                        <div id="member" style="display: none;">
                            <h2>Member</h2>
                            <table class="table left">
                                <tbody>
                                    <tr>
                                        <th>Handle</th>
                                        <td id='membernametext'>
                                            <i>loading</i>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>Profile</th>
                                        <td id='memberprofiletext'>
                                            <i>loading</i>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>Profile Links</th>
                                        <td>
                                            <table>
                                                <td>
                                                    <a href="" id='memberprofilelink'>Member</a>
                                                </td>
                                                <td> | </td>
                                                <td>
                                                    <a target="memo" href="" id='membermemoprofilelink'>Memo</a>
                                                </td>
                                            </table>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>Address</th>
                                        <td>
                                            <div id="membercashaddrformatdiv"><span
                                                    id="membercashaddrformat">loading</span> <span
                                                    onclick="showQRCode('membercashaddrformat');">(Click to Show QR
                                                    Code)</span></div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>Legacy Address</th>
                                        <td>
                                            <div id="memberlegacyformatdiv"><span id="memberlegacyformat">loading</span>
                                                <span onclick="showQRCode('memberlegacyformat');">(Click to Show QR
                                                    Code)</span></div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>Followers</th>
                                        <td>
                                            <a id="memberfollowersnumber">
                                                <i>loading</i>
                                            </a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>Following</th>
                                        <td>
                                            <a id="memberfollowingnumber">
                                                <i>loading</i>
                                            </a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>Follow</th>
                                        <td>
                                            <a id="memberfollow">
                                                <i>loading</i>
                                            </a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>Muters</th>
                                        <td>
                                            <a id="memberblockersnumber">
                                                <i>loading</i>
                                            </a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>Muting</th>
                                        <td>
                                            <a id="memberblockingnumber">
                                                <i>loading</i>
                                            </a>
                                        </td>
                                    </tr>

                                    <tr>
                                        <th>Mute</th>
                                        <td>
                                            <a id="memberblock">
                                                <i>loading</i>
                                            </a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>You Rate</th>
                                        <td>
                                            <table>
                                                <tr>
                                                    <td>
                                                        <div id="memberratingcomment"></div>
                                                    </td>
                                                    <td>
                                                        <div id="memberrating"></div>
                                                    </td>
                                                </tr>
                                            </table>
                                        </td>

                                    </tr>
                                    <tr>
                                        <th>Web Of Trust Graph</th>
                                        <td>
                                            <div id="membertrustgraph"></div>
                                        </td>
                                    </tr>
                                    <tr style="height:10px"></tr>
                                    <tr style="height:10px"></tr>
                                </tbody>
                            </table>
                        </div>

                        <div id="trustgraph" style="display:none;">
                            <h2>Trust Graph</h2>
                            <div id="trustgraphdetails"></div>
                            <br />
                            <br />
                            <div id="trustgraphnotes">*Notes: A follow is interpreted a 4-star rating, a mute as a
                                2-star rating. This is an
                                approximation of a trust rating -
                                the rating can be overridden by directly rating the user.</div>
                        </div>


                        <div id="settings" style="display: none;">
                            <h2>Settings</h2>
                            <table class="table left">
                                <tbody>
                                    <tr>
                                        <th>Handle</th>
                                        <td>
                                            <input size="30" id="settingsnametext" value="loading..."
                                                onchange="document.getElementById('settingsnametextbutton').disabled=false;"
                                                onkeypress="this.onchange();" onpaste="this.onchange();"
                                                oninput="this.onchange();"></input>
                                            <button id="settingsnametextbutton" type="button" onclick="setName();"
                                                disabled>update</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>Profile</th>
                                        <td>
                                            <input size="30" id='settingsprofiletext' value="loading..."
                                                onchange="document.getElementById('settingsprofiletextbutton').disabled=false;"
                                                onkeypress="this.onchange();" onpaste="this.onchange();"
                                                oninput="this.onchange();"></input>
                                            <button id="settingsprofiletextbutton" type="button" onclick="setProfile();"
                                                disabled>update</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>Profile Links</th>
                                        <td>
                                            <table>
                                                <td>
                                                    <a href="" id='settingsprofilelink'>Member</a>
                                                </td>
                                                <td> | </td>
                                                <td>
                                                    <a target="memo" href="" id='settingsmemoprofilelink'>Memo</a>
                                                </td>
                                            </table>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>Address</th>
                                        <td>
                                            <div id="cashaddrformatdiv"><span id="cashaddrformat">loading</span> <span
                                                    onclick="showQRCode('cashaddrformat');">(Click to Show QR
                                                    Code)</span></div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>Legacy Address</th>
                                        <td>
                                            <div id="legacyformatdiv"><span id="legacyformat">loading</span> <span
                                                    onclick="showQRCode('legacyformat');">(Click to Show QR Code)</span>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>Private Key</th>
                                        <td>
                                            <div id="privatekeydiv"><span id="privatekey">loading</span> <span
                                                    onclick="showQRCode('privatekey');">(Click to Show QR Code)</span>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <th>Theme</th>
                                        <td>
                                            <select id="cssselector"
                                                onchange='changeStyle(document.getElementById("cssselector").value);'>
                                                <option value="functional.css">Choose Theme</option>
                                                <option value="functional.css">Hacker News</option>
                                                <option value="hnnightmode.css">Hacker News Night Mode</option>
                                            </select>
                                        </td>
                                    </tr>

                                    <tr>
                                        <th>Followers</th>
                                        <td>
                                            <a id="settingsfollowersnumber">
                                                <i>loading</i>
                                            </a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>Following</th>
                                        <td>
                                            <a id="settingsfollowingnumber">
                                                <i>loading</i>
                                            </a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>Follow</th>
                                        <td>
                                            <a id="settingsfollow">
                                                <i>loading</i>
                                            </a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>Muters</th>
                                        <td>
                                            <a id="settingsblockersnumber">
                                                <i>loading</i>
                                            </a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>Muting</th>
                                        <td>
                                            <a id="settingsblockingnumber">
                                                <i>loading</i>
                                            </a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>Muted Words
                                            <br />(Comma Separate)</th>
                                        <td>
                                            <textarea id="mutedwords" maxlength="217" name="text" rows="4" cols="60"
                                                onchange="document.getElementById('mutedwordsbutton').disabled=false;"
                                                onkeypress="this.onchange();" onpaste="this.onchange();"
                                                oninput="this.onchange();"></textarea>
                                            <button id="mutedwordsbutton" type="button" onclick="updatemutedwords();"
                                                disabled>update</button>
                                        </td>
                                    </tr>
                                    <tr style="height:10px"></tr>
                                    <tr style="height:10px"></tr>
                                </tbody>
                            </table>
                        </div>

                        <div id="ratings" style="display: none;">
                            <h2>Ratings By This Member</h2>
                            <br />
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Member</th>
                                        <th></th>
                                        <th></th>
                                        <th></th>
                                        <th>Rates</th>
                                        <th></th>
                                        <th></th>
                                        <th></th>
                                        <th>Member</th>
                                        <th></th>
                                        <th>Note</th>
                                    </tr>
                                </thead>
                                <tbody id="ratingtable">
                                </tbody>
                            </table>
                        </div>

                        <div id="community" style="display: none;">
                            <h2>Ratings Of This Member</h2>
                            <br />
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Member</th>
                                        <th></th>
                                        <th></th>
                                        <th></th>
                                        <th>Rates</th>
                                        <th></th>
                                        <th></th>
                                        <th></th>
                                        <th>Member</th>
                                        <th></th>
                                        <th>Note</th>
                                    </tr>
                                </thead>
                                <tbody id="communityratingtable">
                                </tbody>
                            </table>
                            <br /><br />
                        </div>

                        <div id="bootstrap" style="display: none;">
                            <h2>Bootstrap Ratings</h2>
                            <br />
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Member</th>
                                        <th></th>
                                        <th></th>
                                        <th></th>
                                        <th>Rating</th>
                                        <th></th>
                                        <th></th>
                                        <th></th>
                                        <th>Ratee</th>
                                        <th>Full Trust Graph</th>
                                    </tr>
                                </thead>
                                <tbody id="bootstraptable1"></tbody>
                                <tbody id="bootstraptable2"></tbody>
                                <tbody id="bootstraptable3"></tbody>

                            </table>
                        </div>

                        <div id="memberposts" style="display: none;">
                        </div>

                        <div id="followers" style="display: none;">
                            <h2>Followers</h2>
                            <br />
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Rating</th>
                                        <th>Name</th>
                                        <th>Address</th>
                                    </tr>
                                </thead>
                                <tbody id="follows">
                                </tbody>
                            </table>
                        </div>

                        <div id="following" style="display: none;">
                            <h2>Following</h2>
                            <br />
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Rating</th>
                                        <th>Name</th>
                                        <th>Address</th>
                                    </tr>
                                </thead>
                                <tbody id="followingtable">
                                </tbody>
                            </table>
                        </div>

                        <div id="blockers" style="display: none;">
                            <h2>Muters</h2>
                            <br />
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Address</th>
                                    </tr>
                                </thead>
                                <tbody id="blocks">
                                </tbody>
                            </table>
                        </div>

                        <div id="blocking" style="display: none;">
                            <h2>Muting</h2>
                            <br />
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Address</th>
                                    </tr>
                                </thead>
                                <tbody id="blockingtable">
                                </tbody>
                            </table>
                        </div>

                        <div id="posts" style="display: none;"></div>

                        <div id="comments" style="display: none;"></div>

                        <div id="thread" style="display: none;">
                        </div>

                        <div id="loginbox" style="display: none;">
                            <table style="border-spacing: 7px 0px;">
                                <tbody>
                                    <tr>
                                        <td>
                                            <br />Member is peer to peer, web of trust reputation system on the BCH
                                            blockchain.
                                            <br />
                                            <br />It allows browsing and creating Memo posts and also rating Memo users.
                                            <br />
                                            <br />You can create a new account or login with a <a
                                                href="https://memo.cash/key/export">Memo private key. Click here to
                                                export</a>. (Member is SLP546 aware and will not alter your SLP tokens)
                                            <br />
                                            <br />
                                            <hr />
                                            <br />
                                            <br />Private Key (Compressed WIF format, starts with 'L' or 'K')
                                            <br />
                                            <input size="64" id="loginkey"></input>
                                            <button type="button" href="#feed"
                                                onclick="trylogin(document.getElementById('loginkey').value);">login</button>
                                            <br />
                                            <div id="loginerror">
                                            </div>
                                            <br />
                                            Or
                                            <br />
                                            <br />
                                            <button type="button" href="#settings" onclick="createNewAccount();">Create
                                                New Account</button>
                                            <br />
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>



                    </td>
                </tr>
                <tr>
                    <td>
                        <br />
                        <center>
                            <span class="yclinks">

                                <a onclick="showTopic(0,25,'Member')" href="#topic?topicname=Member">Member</a> |
                                <a onclick="showTopic(0,25,'Bitcoin Cash')"
                                    href="#topic?topicname=Bitcoin%20Cash">Bitcoin Cash</a>
                                |
                                <a onclick="showTopic(0,25,'Bitcoin SV')" href="#topic?topicname=Bitcoin%20SV">Bitcoin
                                    SV</a> |
                                <a onclick="showTopic(0,25,'Memo')" href="#topic?topicname=Memo">Memo</a> |
                                <a onclick="showTopic(0,25,'Airdrops')" href="#topic?topicname=Airdrops">Airdrops</a> |
                                <a onclick="showTopic(0,25,'Tokens')" href="#topic?topicname=Tokens">Tokens</a> |
                                <a onclick="showTopic(0,25,'OpenBazaar')"
                                    href="#topic?topicname=OpenBazaar">OpenBazaar</a> |
                                <a onclick="showTopic(0,25,'Capitalism')"
                                    href="#topic?topicname=Capitalism">Capitalism</a> |
                                <a onclick="showTopic(0,25,'US Politics/Trump')"
                                    href="#topic?topicname=US%20Politics%2FTrump">US
                                    Politics</a> |
                                <a onclick="showTopic(0,25,'Favorite Quotes')"
                                    href="#topic?topicname=Favorite%20Quotes">Quotes</a> |
                                <a onclick="showTopic(0,25,'Ideas to improve our lives')"
                                    href="#topic?topicname=Ideas%20to%20improve%20our%20lives">Self
                                    Improvement</a> |
                                <a onclick="showTopic(0,25,'#911Truth')"
                                    href="#topic?topicname=%23911Truth">#911Truth</a>
                            </span>
                            <br />
                        </center>
                        <table width="100%" cellspacing="0" cellpadding="1">
                            <tbody>
                                <tr>
                                    <td bgcolor="#4cca47"></td>
                                </tr>
                            </tbody>
                        </table>
                        <center>
                            <span class="yclinks">
                                <a
                                    href="https://memo.cash/token/766f9f56ac0a3f0e4c64cb3453d0c45336a20685827801b2188d237c2a6ffc43?balances">Top
                                    Supporters</a>
                                |
                                <a href="https://github.com/memberapp/memberapp.github.io">Github</a>
                                |
                                <a href="https://www.bitcoin.com">Bitcoin</a>
                                |
                                <a href="https://github.com/memberapp/protocol">Protocol</a>
                                |
                                <a href="mailto:memorycoincc@gmail.com">Contact</a>

                            </span>
                            <br />
                            <br />
                        </center>
                    </td>
                </tr>

            </tbody>
        </table>
    </center>
    <div id="status"></div>
    <script>
        init();
    </script>
</body>

</html>